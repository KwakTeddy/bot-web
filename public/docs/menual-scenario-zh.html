<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>playchat聊天机器人 - 概要</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="github.css">
    <link rel="stylesheet" href="custom.css">



</head>
<body>
<div class="row">
    <div class="col-md-12">
       <div id="topbar"></div>
    </div>
</div>
<div class="row">

    <div class="col-md-2  col-md-offset-1" style="left: 10px">
      <div id="nav"></div>
    </div>


    <div class="col-md-7 new-discussion-timeline experiment-repo-nav" style="right: 10px">
         <!--본문 내용-->
        <div id="readme" class="readme blob instapaper_body">
            <article class="markdown-body entry-content" itemprop="text">
                <h2>
                    <a id="user-content-대화-시나리오" class="anchor" aria-hidden="true" href="#对话场景">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    对话场景
                </h2>
                <p>对话场景是一个树形场景图，是用户可以用来轻松开发聊天机器人的编辑工具。由对话场景，函数功能实现区的两个标签组成。可以通过点击页面左侧菜单中的"开发" -> "对话场景"来使用对话场景。</p>
                <h3>
                    <a id="user-content-개발" class="anchor" aria-hidden="true" href="#开发">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    开发
                </h3>
                <h4>
                    <a id="user-content-카드" class="anchor" aria-hidden="true" href="#卡片">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    卡片
                </h4>
                <p>在对话场景页面您可以看到对话场景是由长方形的盒子连接而成，这个长方形的盒子被称为<strong>卡片</strong>。一个<strong>卡片</strong>由基本的卡片名称，用户输入，聊天机器人回答组成。如果您双击卡片的话，页面右侧将出现卡片的修改窗口。<br>
                    <a href="https://youtu.be/DhFCZkb-zVM" rel="nofollow">点击查看制作范例视频</a>
                </p>
                <p><a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/25.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/25.png" title="클릭" style="max-width:100%;"></a></p>
                <ol>
                    <li>
                        <p>卡片名称<br>
                            <strong>卡片名称</strong>指的是这个卡片的名字，不能与其他卡片名称重复，因为它用来识别卡片。卡片名称主要用在对话流动控制的控制功能上。
                        </p>
                    </li>
                    <li>
                        <p>用户输入<br>
                            <strong>用户输入</strong>是指在执行当前卡片时需要的条件信息（预想的聊天机器人用户的输入）。例如<strong>用户输入</strong>是“您好”，当聊天机器人用户输入“您好”的瞬间，就会执行当前的卡片。即，聊天机器人会进行相应的回答。
                        </p>
                    </li>
                    <li>
                        <p>聊天机器人回答<br>
                            <strong>聊天机器人回答</strong>是指在执行当前卡片时需要的条件信息（预想的聊天机器人用户的输入）。例如<strong>用户输入</strong>是“您好”，当聊天机器人用户输入“您好”的瞬间，就会执行当前的卡片。即，聊天机器人会进行相应的回答。
                        </p>
                    </li>
                    <li>
                        <p>父母卡片和子女卡片，以及兄弟卡片<br>
                            <strong>父母卡片</strong>和<strong>子女卡片</strong>是被用来表示直接连接在一起的卡片之间关系的用语。一张卡片可以有一张父母卡片和多张子女卡片。例如，开始卡片右边直接连接的所有卡片都是开始卡片的子女卡片，他们的父母卡片都是开始卡片。
                            同时，拥有同一张父母卡片的卡片之间被互相称为<strong>兄弟卡片</strong>。基本上卡片之间遵循家族谱的名称。
                        </p>
                    </li>
                    <li>
                        <p>深度<br>
                            <strong>深度</strong>代表着卡片的世代。如对于开始卡片的世代，即深度是0，而开始卡片的子女卡片们的深度都是1。子女卡片比父母卡片的深度会增加1。
                        </p>
                    </li>
                    <li>
                        <p>光标<br>
                            <strong>光标</strong>是用来标示聊天机器人等待用户输入时的当前卡片（或者最后执行到的卡片）的用语。例如开始卡片执行后，等待用户输入时，光标就在开始卡片上。
                        </p>
                        <ul>
                            <li>当有用户输入时，光标就会移动。</li>
                            <li>光标的移动可以被看做对话流动。</li>
                            <li>对话流动（光标的移动）普通是从父母卡片像子女卡片移动。但是使用聊天机器人回答中的对话流动控制控制时，就可以实现直接跳到其他的对话。<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/26.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/26.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>搜索，匹配和执行<br></p>
                    </li>
                </ol>
                <ul>
                    <li>
                        <strong>搜索</strong>是查找聊天机器人用户输入的值和当前卡片的子女卡片的"用户输入"是否一致的行为。例如聊天机器人用户输入了"您好"时，查找"用户输入"是"您好"的子女卡片被称为<strong>搜索</strong>。                        <ul>
                            <li>搜索是按照顺序进行的，从最上面的子女卡片开始往下进行搜索。换句话说，是从第一个子女卡片的聊天机器人用户输入值开始进行匹配，不匹配时就开始判断第二个子女卡片是否匹配。因此请记住对于有着相同用户输入的子女卡片，会最先匹配靠上面的卡片。</li>
                            <li>搜索时共同卡片比一般卡片更先进行匹配。光标的位置对其没有任何影响，先搜索共同卡片然后再搜索一般卡片。</li>
                        </ul>
                    </li>
                    <li><strong>匹配</strong>是找到符合聊天机器人用户输入值的子女卡片。例如聊天机器人用户输入"您好"时，找到了"用户输入"是"您好"的子女卡片时被称为<strong>匹配成功</strong>。</li>
                    <li>
                        <strong>执行</strong>是聊天机器人用户的输入值和特定的卡片的用户输入匹配成功，然后聊天机器人进行回答。例如聊天机器人用户输入"您好"时，匹配成功的"用户输入"是"您好"的卡片会回答"聊天机器人回答"，这个卡片就被<strong>执行成功</strong>了。
                        <ul>
                            <li>执行这了这个匹配的卡片后，光标会移动到这个卡片然后开始继续等待用户输入。<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/27.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/27.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ol start="8">
                    <li>对话流动<br>
                        <strong>对话流动</strong>表示"聊天机器人用户输入" -> "搜索" -> "执行"的整个过程。
                    </li>
                </ol>
                <blockquote>
                    <p>聊天机器人用户输入 -> 搜索(和子女卡片是否匹配) -> 执行(聊天机器人回答和光标移动) -> 聊天机器人用户输入-> ....</p>
                </blockquote>
                <ul>
                    <li>聊天机器人用户输入</li>
                    <li>搜索 - 搜索聊天机器人用户输入值和哪个子女卡片的用户输入一致。</li>
                    <li>执行 - 聊天机器人用户输入值和子女卡片的**用户输入**匹配时执行当前子女卡片后光标移动到当前卡片。当聊天机器人回答了聊天机器人回答后，就开始等待用户的输入。
                        (如果聊天机器人用户输入值和所有的子女卡片的**用户输入**都不匹配的话聊天机器人会回复'不好意思，我不是很理解您在说什么'，然后光标会移动到开始卡片处。这是因为聊天机器人用户输入值和子女卡片都不匹配。)
                    </li>
                </ul>
                <ol start="9">
                    <li>共同卡片<br>
                        <strong>共同卡片</strong>比所有卡片都先进行搜索。场景对话画面可以通过按共同卡片按钮看到共同卡片。例如，开始卡片和返回卡片不影响光标的位置，在对聊天机器人用户输入进行搜索时排在最优先的位置。
                    </li>
                </ol>
                <ul>
                    <li>开始卡片
                        是用户最开始和聊天机器人开始对话时执行的卡片，是进行对话场景时回到初始画面时执行的卡片。
                    </li>
                    <li>返回卡片
                        是当用户输入'返回'时，能回到前面已经执行过的上一个对话的卡片。是聊天机器人回答的控制对话流动中的'返回移动'以共同卡片的形式创建的卡片。
                    </li>
                    <li>上一页卡片
                        在对话场景图中想移动到光标现在所在的卡片的父母卡片时输入'上一页'时即可。这个卡片是聊天机器人回答的控制对话流动中的'返回上一层对话的父母卡片'以共同卡片的形式创建的卡片。
                    </li>
                    <li>没有回答卡片
                        当和用户输入没有匹配的卡片时会执行的卡片。聊天机器人会回答"对不起，我不是很理解您的意思。"。
                    </li>
                </ul>
                <ol start="10">
                    <li>菜单<br>
                        卡片的右上方有一个编辑卡片的菜单按钮。
                    </li>
                </ol>
                <ul>
                    <li>创建子女卡片
                        当前卡片作为父母卡片可以生成子女卡片，生成的子女卡片会在所有子女卡片的最下方。另外，点击卡片右侧的增加按钮后也会生成子女卡片。
                    </li>
                    <li>向上移动和向下移动
                        兄弟卡片之间可以改变顺序。
                    </li>
                    <li>剪切
                        删除当前卡片后将其存储到内存中。
                    </li>
                    <li>复制
                        复制当前卡片存储到内存中。
                    </li>
                    <li>粘贴
                        内存中存储的卡片以当前卡片的子女卡片生成。
                    </li>
                    <li>克隆
                        生成和当前卡片作为兄弟卡片并和当前卡片完全相同的卡片。
                    </li>
                    <li>删除
                        删除当前卡片。<br>
                        <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/28.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/28.png" style="max-width:100%;"></a>
                    </li>
                </ul>
                <h4>
                    <a id="user-content-사용자-입력" class="anchor" aria-hidden="true" href="#用户输入">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    用户输入
                </h4>
                <ol>
                    <li>用户输入的构成<br>
                        用户输入的基本模式是关键字。用户输入也可以由关键字，意图，实体，正则表达式，关键字，意图，实体，正则表达式，样式，条件句等多种组合构成。<br>
                        <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/29.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/29.png" title="클릭" style="max-width:100%;"></a>
                    </li>
                </ol>
                <ul>
                    <li>
                        <p>关键字(Keyword)</p>
                        <ul>
                            <li>用户输入的基本模式是关键字方式。</li>
                            <li><strong>关键字方式</strong>是在用户输入中保存<strong>키워드</strong>，当聊天机器人用户输入相应内容后执行相应卡片的方式。例如，如果在用户输入中输入的关键字是"夏天 上衣 棉"，用户输入相应的所有关键字(夏天 上衣 棉)时当前卡片才会执行。举其他例子的话当用户输入中输入的关键字是"夏天"，"上衣"，"棉"，用户只要输入其中任何一个关键字(夏天，上衣，棉)就可以执行当前卡片。</li>
                            <li>关键字方式可能更适用<strong>按钮型聊天机器人</strong>这样比较简单的聊天机器人，而不太适合对话型聊天机器人或者高度化聊天机器人。例如,聊天机器人用户输入"请给我一件棉料的夏天的上衣"的话，当前聊天机器人可能就听不懂了。所以在多种表示方法被处理成同一种意义的情况，请使用<strong>意图</strong>而不是关键字。<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/30.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/30.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                        <blockquote>
                            <p>按钮型聊天机器人适用关键字! 对话型聊天机器人适用意图!</p>
                        </blockquote>
                    </li>
                    <li>
                        <p>意图(#Intent)</p>
                        <ul>
                            <li>Intent指的是<strong>意图</strong>的意思。</li>
                            <li>"查找上衣"和"搜索上衣"可以说是有着相同的意图，这时，两个句子可以用同一个意图来处理。因此当用户输入中输入意图，<strong>拥有同一个意图的多个句子</strong>就能够被一起处理了。例如，在上面的用户输入中创建一个搜索意图包含两个句子，这两个句子能被同一个意图处理。</li>
                            <li>您可以通过查看左侧导航栏中的管理->打开意图便可以制作意图。或者是通过在卡片里的用户输入中输入'#'会出现选择意图或者增加新的意图的<strong>输入指南</strong>。</li>
                            <li>请记住句子和意图之间<strong>不是一对一</strong>的，即，一个句子可以有几个不同的意图。例如，对于"我想要这个外套"的情况，它可以是搜索意图，也可以是购买意图。所以怎样的句子有着怎样的意图会随着对话的逻辑而变化。聊天机器人开发者应该要考虑意图的一贯性。<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/31.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/31.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                        <blockquote>
                            <p>让我们将多个句子通过一个意图来进行处理吧！<br>
                                <a href="https://youtu.be/h0ppnU_l7R4" rel="nofollow">点击查看制作范例视频</a>
                            </p>
                        </blockquote>
                    </li>
                    <li>
                        <p>实体(@Entity)</p>
                        <ul>
                            <li>实体是指<strong>对象</strong>名称。</li>
                            <li>半袖，长袖，外套，夹克等想用一个对象名来进行识别所有时可以使用实体。半袖，长袖，外套等被称为"上衣"的实体捆绑在一起。其他例子，如马，猫，老虎等被称为"动物"的实体捆绑在一起。即，<strong>各种各样的对象</strong>（马，猫，老虎）被"对象名（动物）"捆绑在一起。</li>
                            <li>页面左侧导航栏中的管理->进入实体就可以开始创建实体了。或者在卡片的<strong>用户输入</strong>中输入"@"来选择实体或者创建新的实体。</li>
                            <li>名词和实例<strong>不是一对一的关系</strong>。即，一个名词能属于多个实体。例如,马属于"动物"实体，还属于'十二生肖'实体。又或者是，猫自身就是一个实体，包含加菲猫，短尾猫等。因此根据使用情况来确定什么样的实体包含着什么样的对象，即，决定使用怎样的实体。
                                例如)
                            </li>
                            <li>如果在用户输入中输入@上衣实体和#搜索意图使用的是AND条件的话，对于上衣实体包含的对象们和搜索意图同时输入的时候这个卡片就会执行。这个结果可以是"我想买短袖"，"我想买长袖"，"能帮我找找长袖吗"等多种表达方式被一个卡片处理。<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/32.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/32.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                        <blockquote>
                            <p>把多个名词当作一个实体来处理吧！<br>
                                <a href="https://youtu.be/XMvfAE7GY3w" rel="nofollow">点击查看制作范例视频</a>
                            </p>
                        </blockquote>
                    </li>
                    <li>
                        <p>正则表达式(/RegExr/)</p>
                        <ul>
                            <li>正则表达式指用于表示<strong>具有特定规则的字符串</strong>的格式。</li>
                            <li>如果您想让用户输入手机号码，要怎么办才好呢？在用户输入中输入'010-1234-1234'的话，就只能匹配这样特定的手机号码。这样的话就不能保存所有的手机号码。因此我们需要<strong>特定模式的数字</strong>作为接收的方法，这个时候就可以使用正则表达式(Regular Expression)来接收输入值。</li>
                            <li>和010-1234-1234一样的特定模式的正则表达式保存在用户输入里，当<strong>用户输入相应模式的时候对话才会执行</strong>。即，因为**用户输入**以/^\d{3}-\d{3,4}-\d{4}$/的形式所有为例执行这个卡片，用户只能输入手机号码的形式才能输入。</li>
                            <li>在用户输入里想要输入正则表达式的话先输入'/'就可以。如果您对正则式还不是很熟悉的话请参考<a href="/moneybrain-ai/PlayChat-Docs/blob/master/regexr.com">regexr.com</a>。<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/33.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/33.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                        <blockquote>
                            <p>只想匹配手机号，网页地址等特殊格式的输入值时，使用正则表达式即可!<br>
                                <a href="https://youtu.be/TeujgUr6HK8" rel="nofollow">点击查看制作范例视频</a>
                            </p>
                        </blockquote>
                    </li>
                    <li>
                        <p>样式($Type)</p>
                        <ul>
                            <li>样式是一种用于表达<strong>具有特定规则的字符串</strong>的类型。</li>
                            <li>样式提供了与读取特定模式的正则表达式相同的功能。例如在用户输入中输入"$"可以看到已经生成的各种样式。其中选择mobile的话只有手机号才能被接受。这种样式具有基本上只接收特定模式的输入值的功能(即，<strong>和正则表达式有着相同的功能</strong>。)。</li>
                            <li>但是由于样式<strong>可以在函数功能实现区用代码中进行编写</strong>，比起正则表达式能处理更多的情况。例如，比较发送的手机验证号码和聊天机器人用户输入的是否一致，这是正则表达式所不能做的。因为正则表达式只可以收取4位验证号码，但不能确定是否与发送的验证号码一致。因此要在代码中匹配发送的号码和用户输入的值。这时就需要用样式。<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/34.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/34.png" title="클릭" style="max-width:100%;"></a><br>
                                <a href="https://youtu.be/4yQty-eVsT4" rel="nofollow">点击查看制作范例视频</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>条件句(IF)</p>
                        <ul>
                            <li>条件句是通过<strong>聊天机器人用户输入值以外的条件值</strong>来执行卡片的功能。</li>
                            <li>用户输入大多是由关键字, 实体, 意图, 正则表达式, 样式构成，但也存在和用户输入值不相关时，卡片可以执行的情况。例如，用户姓名通过用户输入来收集的情况，使用了特殊值或者是特殊模式来控制输入值的匹配。这些都是不确定的值，因为全世界有各式各样的名字(当然，韩国式的名字有特定的格式是可以使用正则表达式或者样式），因此此时<strong>用户输入值对卡片的执行没有影响</strong>。这时候在用户输入中使用IF是比较好的选择。</li>
                            <li>想要在用户输入中填写条件句的话先在高级模式下输入if后，再在()中输入条件句即可。<strong>f(条件句)</strong></li>
                            <li>条件表达式必须基于代码写入，条件句的结果值为true或者false中的一个。如果将用户输入设置为<strong>if</strong>(<strong>true</strong>)则在对卡片进行搜索时所有的输入值都能与其匹配。</li>
                            <li>虽然条件句就像if(true)一样可以很简单的使用，但它可以让<strong>函数功能实现区的变量</strong>得到充分的利用。例如，判断是男性用户还是女性用户时可以以是否是女性用户为标准来判断，也可以以if(gender == 'male')的形式来判断。但是像gender这样的变数要提前设定才行(条件式是基于代码的)。<br>
                                <a href="https://youtu.be/gRxNkTODvSk" rel="nofollow">点击查看制作范例视频</a><br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/35.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/35.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ol start="2">
                    <li>
                        <p>添加/删除用户输入<br>
                            按+按钮后来增加用户输入，点击垃圾桶按钮后来删除用户输入。<br>
                            <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/36.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/36.png" title="클릭" style="max-width:100%;"></a>
                        </p>
                    </li>
                    <li>
                        <p>多个用户输入(OR条件)<br>
                            开始卡片的用户输入中是由3个用户输入(开始, 初始, start)组成。多个用户输入的情况，用户输入了<strong>用户输入值中的任何一个值</strong>时开始卡片都会执行。例如，输入"开始", "初始"或者"start"中的任何一个开始卡片都会执行(快在右侧对话框中试试吧)。
                        </p>
                    </li>
                    <li>
                        <p>用户输入的AND条件<br>
                            一个输入有着多个输入值的情况，当<strong>输入所有聊天机器人用户输入值时，这个卡片才会执行</strong>。例如，"开始"，"初始"，"start"是组成一个用户输入时，当聊天机器人用户输入'开始 初始 start'是这个卡片才会执行。
                        </p>
                    </li>
                    <li>
                        <p>用户输入的自然语言处理<br>
                            当有新的值被填写到用户输入里时您可以在输入框下方看到nlu的分析文字。nlu是Natural Language Understanding(自然语言理解)的缩写, 实时用户输入值转换成聊天机器人能理解的语言进行（<strong>자연어 처리</strong>)。 例如, 用户输入为'回到初始页面'时，nlu引擎会将其转换为'返回初始画面'。
                        </p>
                    </li>
                </ol>
                <h4>
                    <a id="user-content-답변-전-실행-함수" class="anchor" aria-hidden="true" href="#回答前执行的函数">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    回答前执行的函数
                </h4>
                <p>回答前执行的函数是在当前卡片执行时，聊天机器人回答之前执行需要的功能函数。<br>
                    <a href="https://youtu.be/ivTtvxfNsd0" rel="nofollow">点击查看制作范例视频</a><br>
                    <a target="_blank" href="https://github.com/moneybrain-ai/PlayChat-Docs/blob/master/start_image/37.png"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/37.png" alt="image" style="max-width:100%;"></a><br>
                    是聊天机器人发短信，或者是听音乐，调节家居照明，和其他智能家居进行交流或者是访问数据库前需要执行的函数。因此回答前执行的函数使用了大量的JAVASCRIPT代码。
                </p>
                <div class="highlight highlight-source-js">
         <pre><span class="pl-smi">bot</span>.<span class="pl-en">setTask</span>(<span class="pl-s"><span class="pl-pds">"</span>myTask<span class="pl-pds">"</span></span>,
{
    <span class="pl-en">action</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">dialog</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>)
      {
       <span class="pl-c"><span class="pl-c">//</span>功能实现区</span>
          <span class="pl-en">callback</span>();
      }
});</pre>
                </div>
                <p>上面的JAVASCRIPT代码显示了回答之前执行的函数的基本结构。</p>
                <ul>
                    <li>默认情况下以"bot.setTask(arg1, arg2);"的形式来创建函数。</li>
                    <li>第一个系数(arg1)放函数名，在这里放的是"myTask"的字符串。</li>
                    <li>
                        第二个系数(arg2)放JSON格式的对象(Object)。默认结构是
                        <div class="highlight highlight-source-js">
               <pre> {
 	<span class="pl-en">action</span> <span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">dialog</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>){}
 }</pre>
                        </div>
                    </li>
                    <li>在功能实现区用JAVASCRIPT编写您想要展现的功能，同时可以使用Node.js library。</li>
                </ul>
                <ol>
                    <li>action函数<br>
                        action函数是由dialog, context, callback这3个参数来进行值得传递的。
                    </li>
                </ol>
                <ul>
                    <li>
                        <p>dialog
                            dialog是将当前卡片的执行和相关信息（卡片信息，聊天机器人用户输入，聊天机器人回答）以JSON的形式进行存储。即，分别放在dialog系数(JSON对象)的4个键中key(card, userInput, output, data)。
                        </p>
                        <div class="highlight highlight-source-js">
               <pre>     dialog <span class="pl-k">=</span> {
 	    card <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    userInput <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    output<span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    data<span class="pl-k">:</span> <span class="pl-k">...</span>
     }</pre>
                        </div>
                        <hr>
                        <ul>
                            <li>dialog.card</li>
                        </ul>
                        <div class="highlight highlight-source-js">
               <pre>     dialog <span class="pl-k">=</span> {
 	    card <span class="pl-k">:</span> {
 				    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>卡片名称<span class="pl-pds">"</span></span>,
 				    <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>default95<span class="pl-pds">"</span></span>,
 				    <span class="pl-s"><span class="pl-pds">"</span>input<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 				        {
 				            <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
 				                <span class="pl-s"><span class="pl-pds">"</span>raw<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 				                <span class="pl-s"><span class="pl-pds">"</span>nlp<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>
 				            }
 				        }
 				    ],
 				    <span class="pl-s"><span class="pl-pds">"</span>task<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
 				        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>defaultTask<span class="pl-pds">"</span></span>
 				    },
 				    <span class="pl-s"><span class="pl-pds">"</span>output<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 				        {
 				            <span class="pl-s"><span class="pl-pds">"</span>kind<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Content<span class="pl-pds">"</span></span>,
 				            <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答测试<span class="pl-pds">"</span></span>,
 				            <span class="pl-s"><span class="pl-pds">"</span>buttons<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 				                {
 				                    <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,
 				                    <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答按钮<span class="pl-pds">"</span></span>
 				                }
 				            ]
 				        }
 				    ]
 			   },
 	    userInput <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    output<span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    data<span class="pl-k">:</span> <span class="pl-k">...</span>
     }</pre>
                        </div>
                        <blockquote>
                            <ul>
                                <li>card存储着当前卡片和相关的信息。</li>
                                <li>name是当前卡片的名字。</li>
                                <li>id是当前卡片的识别符。</li>
                                <li>input是与当前卡片的"用户输入"关联的值。</li>
                                <li>task是当前卡片回答之前执行的函数（对象）。</li>
                                <li>output是当前卡片存储的聊天机器人回答（数组）。</li>
                            </ul>
                        </blockquote>
                        <hr>
                        <ul>
                            <li>dialog.userInput</li>
                        </ul>
                        <div class="highlight highlight-source-js">
               <pre>     dialog <span class="pl-k">=</span> {
 	    card <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    userInput <span class="pl-k">:</span> {
 				        <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 				        <span class="pl-s"><span class="pl-pds">"</span>nlp<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 				            {
 				                <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 				                <span class="pl-s"><span class="pl-pds">"</span>pos<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Number<span class="pl-pds">"</span></span>,
 				                <span class="pl-s"><span class="pl-pds">"</span>length<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">1</span>
 				            }
 				        ],
 				        <span class="pl-s"><span class="pl-pds">"</span>nlpText<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 				        <span class="pl-s"><span class="pl-pds">"</span>types<span class="pl-pds">"</span></span><span class="pl-k">:</span> {},
 				        <span class="pl-s"><span class="pl-pds">"</span>entities<span class="pl-pds">"</span></span><span class="pl-k">:</span> {},
 				        <span class="pl-s"><span class="pl-pds">"</span>intents<span class="pl-pds">"</span></span><span class="pl-k">:</span> []
 				   },
 	    output<span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    data<span class="pl-k">:</span> <span class="pl-k">...</span>
     }</pre>
                        </div>
                        <blockquote>
                            <ul>
                                <li>userInput中存储着聊天机器人用户输入值和相关信息。</li>
                                <li>text是聊天机器人用户的输入值。</li>
                                <li>nlp是聊天机器人用户输入值的自然语言处理的结果值（数组）。</li>
                                <li>nlpText是自然处理聊天机器人用户输入值后的结果(字符串)。</li>
                                <li>types是聊天机器人用户输入值与样式匹配的值。</li>
                                <li>entities是聊天机器人用户输入值和实体相关的值。</li>
                                <li>intents是聊天机器人用户输入值和意图相关的值。</li>
                            </ul>
                        </blockquote>
                        <hr>
                        <ul>
                            <li>dialog.output</li>
                        </ul>
                        <div class="highlight highlight-source-js">
               <pre>     dialog <span class="pl-k">=</span> {
 	    card <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    userInput <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    output<span class="pl-k">:</span> [
 			        {
 			            <span class="pl-s"><span class="pl-pds">"</span>kind<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Content<span class="pl-pds">"</span></span>,
 			            <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答测试<span class="pl-pds">"</span></span>,
 			            <span class="pl-s"><span class="pl-pds">"</span>buttons<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 			                {
 			                    <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,
 			                    <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答按钮<span class="pl-pds">"</span></span>
 			                }
 			            ]
 			        }
 			   ],
 	    data<span class="pl-k">:</span> <span class="pl-k">...</span>
     }</pre>
                        </div>
                        <blockquote>
                            <ul>
                                <li>output是聊天机器人回答。</li>
                                <li>如果想修改output的话，可以通过代码修改聊天机器人回答。/li>
                                <li>kind是当前回答的类型(Content和Action)。Content是默认的聊天机器人回答(text, image, button)，Action是控制对话流向的聊天机器人回答。</li>
                                <li>text是聊天机器人的文字类回答。</li>
                                <li>buttons是按钮型聊天机器人回答。</li>
                            </ul>
                        </blockquote>
                        <hr>
                        <ul>
                            <li>data</li>
                        </ul>
                        <div class="highlight highlight-source-js">
               <pre>     dialog <span class="pl-k">=</span> {
 	    card <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    userInput <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    output<span class="pl-k">:</span> <span class="pl-k">...</span> ,
 	    data<span class="pl-k">:</span> {}
     }</pre>
                        </div>
                        <blockquote>
                            <ul>
                                <li>data是一个空的对象。</li>
                                <li>聊天机器人开发者把数据进行存储后在输出的时候使用其键值(Key)。</li>
                                <li>需要注意的一点是在聊天机器人更新的时候存储在<code>dialog.data['key'] = 'value';</code>中的值将自动消失。因此可以将即使聊天机器人更新后，消失不见的数据存储在<code>context.session['key'] = 'value';</code>中，同时，<code>context.session</code>中有的信息也会在服务器重新启动的时候被清除。因此希望不被清除的数据请存储到数据库中。</li>
                            </ul>
                        </blockquote>
                        <hr>
                        <p>下面是dialog系数的整体构造。</p>
                        <div class="highlight highlight-source-js">
               <pre>     dialog <span class="pl-k">=</span> {
 			    <span class="pl-s"><span class="pl-pds">"</span>card<span class="pl-pds">"</span></span> <span class="pl-k">:</span> {
 						    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>卡片名称<span class="pl-pds">"</span></span>,
 						    <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>default95<span class="pl-pds">"</span></span>,
 						    <span class="pl-s"><span class="pl-pds">"</span>input<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 								        {
 								            <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
 								                <span class="pl-s"><span class="pl-pds">"</span>raw<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 								                <span class="pl-s"><span class="pl-pds">"</span>nlp<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>
 								            }
 								        }
 								    ],
 						    <span class="pl-s"><span class="pl-pds">"</span>task<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
 								        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>defaultTask<span class="pl-pds">"</span></span>
 								    },
 						    <span class="pl-s"><span class="pl-pds">"</span>output<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 								        {
 								            <span class="pl-s"><span class="pl-pds">"</span>kind<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Content<span class="pl-pds">"</span></span>,
 								            <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答测试<span class="pl-pds">"</span></span>,
 								            <span class="pl-s"><span class="pl-pds">"</span>buttons<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 								                {
 								                    <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,
 								                    <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答按钮<span class="pl-pds">"</span></span>
 								                }
 								            ]
 								        }
 								     ]
 					     },
 			    <span class="pl-s"><span class="pl-pds">"</span>userInput<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
 						        <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 						        <span class="pl-s"><span class="pl-pds">"</span>nlp<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 								            {
 								                <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 								                <span class="pl-s"><span class="pl-pds">"</span>pos<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Number<span class="pl-pds">"</span></span>,
 								                <span class="pl-s"><span class="pl-pds">"</span>length<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">1</span>
 								            }
 								       ],
 						        <span class="pl-s"><span class="pl-pds">"</span>nlpText<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
 						        <span class="pl-s"><span class="pl-pds">"</span>types<span class="pl-pds">"</span></span><span class="pl-k">:</span> {},
 						        <span class="pl-s"><span class="pl-pds">"</span>entities<span class="pl-pds">"</span></span><span class="pl-k">:</span> {},
 						        <span class="pl-s"><span class="pl-pds">"</span>intents<span class="pl-pds">"</span></span><span class="pl-k">:</span> []
 						     },
 		        <span class="pl-s"><span class="pl-pds">"</span>output<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 					        {
 					            <span class="pl-s"><span class="pl-pds">"</span>kind<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Content<span class="pl-pds">"</span></span>,
 					            <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答测试<span class="pl-pds">"</span></span>,
 					            <span class="pl-s"><span class="pl-pds">"</span>buttons<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
 								                {
 								                    <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,
 								                    <span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>聊天机器人回答按钮<span class="pl-pds">"</span></span>
 								                }
 								           ]
 					        }
 					     ],
 			    <span class="pl-s"><span class="pl-pds">"</span>data<span class="pl-pds">"</span></span><span class="pl-k">:</span> {}
 		    }</pre>
                        </div>
                    </li>
                    <li>
                        <p>context
                            context不仅仅存储当前卡片的执行和相关信息(dialog)，还以JSON的形态存储着聊天机器人和用户间的交流关联的信息。
                        </p>
                        <p>context系数(JSON对象)是有3个键值key(bot, user, session)组成。</p>
                        <div class="highlight highlight-source-js">
               <pre>     context <span class="pl-k">=</span> {
 			    bot <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 			    user <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 			    session<span class="pl-k">:</span> <span class="pl-k">...</span>
 			  }</pre>
                        </div>
                        <hr>
                        <ul>
                            <li>context.bot</li>
                        </ul>
                        <div class="highlight highlight-source-js">
               <pre>     context <span class="pl-k">=</span> {
 			    bot <span class="pl-k">:</span>	{
 					        name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>test_sample<span class="pl-pds">'</span></span>,
 					        description<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>test_sample<span class="pl-pds">'</span></span>,
 					        created<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>2018-02-20T08:34:41.854Z<span class="pl-pds">'</span></span>,
 					        language<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ko<span class="pl-pds">'</span></span>,
 					        options<span class="pl-k">:</span> {
 								          use<span class="pl-k">:</span> <span class="pl-c1">true</span>,
 								          kakao<span class="pl-k">:</span> {},
 								          globalSearch<span class="pl-k">:</span> [<span class="pl-c1">Object</span>],
 								          hybrid<span class="pl-k">:</span> [<span class="pl-c1">Object</span>],
 								          dialogsetMinMatchRate<span class="pl-k">:</span> <span class="pl-c1">0.5</span>,
 								          intentMinMatchRate<span class="pl-k">:</span> <span class="pl-c1">0.5</span>,
 								          useQuibble<span class="pl-k">:</span> <span class="pl-c1">false</span>
 							         },
 					       dialogs<span class="pl-k">:</span> [ [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>] ],
 					       commonDialogs<span class="pl-k">:</span> [ [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>] ],
 					       tasks<span class="pl-k">:</span> { defaultTask<span class="pl-k">:</span> [<span class="pl-c1">Object</span>]},
 					       types<span class="pl-k">:</span> { email<span class="pl-k">:</span> [<span class="pl-c1">Object</span>] },
 		     			   intents<span class="pl-k">:</span> [],
 		     			   entities<span class="pl-k">:</span> [],
 					       entityContents<span class="pl-k">:</span> [],
 					       dialogsets<span class="pl-k">:</span> []
 				        },
 			    user <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 			    session<span class="pl-k">:</span> <span class="pl-k">...</span>
 			 }</pre>
                        </div>
                        <blockquote>
                            <ul>
                                <li>bot存储着当前聊天机器人的信息。</li>
                                <li>name是当前聊天机器人的名称。</li>
                                <li>description是对当前聊天机器人的说明。</li>
                                <li>created是当前聊天机器人的创建时间。</li>
                                <li>language是指当前聊天机器人使用的语言。</li>
                                <li>options是当前聊天机器人的相关设置。</li>
                                <li>dialogs以JSON对象的形式存储着当前聊天机器人的场景对话。</li>
                                <li>commonDialogs以JSON对象的形式存储着当前聊天机器人的共同场景对话。</li>
                                <li>tasks存储着当前聊天机器人拥有的所有回答前执行的函数。</li>
                                <li>types存储着当前聊天机器人拥有的所有样式。</li>
                                <li>intents存储着当前聊天机器人拥有的所有意图。</li>
                                <li>entities存储着当前聊天机器人拥有的所有实体。</li>
                                <li>entityContents存储着当前聊天机器人拥有的所有实体内容。</li>
                                <li>dialogsets存储着当前聊天机器人拥有的所有对话集。</li>
                            </ul>
                        </blockquote>
                        <hr>
                        <ul>
                            <li>context.user</li>
                        </ul>
                        <div class="highlight highlight-source-js">
               <pre>     context <span class="pl-k">=</span> {
 			    bot <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 			    user <span class="pl-k">:</span> {
 					      userKey<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>5a4d91842b7a1e41079c0d9a<span class="pl-pds">'</span></span>,
 					      channel<span class="pl-k">:</span> { name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>socket<span class="pl-pds">'</span></span> }
 					   },
 			    session<span class="pl-k">:</span> <span class="pl-k">...</span>
 		      }</pre>
                        </div>
                        <blockquote>
                            <ul>
                                <li>user存储着当前聊天机器人用户的相关信息。</li>
                                <li>userKey是当前聊天机器人用户的识别值。</li>
                                <li>channel存储着当前聊天机器人用户和聊天机器人对话频道的相关信息。</li>
                            </ul>
                        </blockquote>
                        <hr>
                        <ul>
                            <li>context.session</li>
                        </ul>
                        <div class="highlight highlight-source-js">
               <pre>     context <span class="pl-k">=</span> {
 			    bot <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 			    user <span class="pl-k">:</span> <span class="pl-k">...</span> ,
 			    session<span class="pl-k">:</span>  {
 						     history<span class="pl-k">:</span> [ [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>] ],
 						     dialogCursor<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>default95<span class="pl-pds">'</span></span>,
 						     previousDialogCursor<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>startDialog<span class="pl-pds">'</span></span>
 						  }
 		      }</pre>
                        </div>
                        <blockquote>
                            <ul>
                                <li>session存储着聊天机器人和用户之间交流相关的数据，在特定的期间内保留数据。对话持续时间为5分钟，5分钟内用户和聊天机器人之间没有交流的情况代表着此对话过期。</li>
                                <li>history是执行过的卡片按照顺序进行存储的目录。</li>
                                <li>dialogCursor是现在光标所在卡片的id值。</li>
                                <li>previousDialogCursor是在现在光标的基础之上，之前光标所在的卡片id值。</li>
                                <li>为了将数据保存一段时间可以使用<code>context.session['key'] = value;</code>。</li>
                            </ul>
                        </blockquote>
                        <hr>
                        <p>下面是context系数整体结构。</p>
                        <div class="highlight highlight-source-js">
               <pre>     context <span class="pl-k">=</span> {
 			    bot <span class="pl-k">:</span>	{
 					        name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>test_sample<span class="pl-pds">'</span></span>,
 					        description<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>test_sample<span class="pl-pds">'</span></span>,
 					        created<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>2018-02-20T08:34:41.854Z<span class="pl-pds">'</span></span>,
 					        language<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ko<span class="pl-pds">'</span></span>,
 					        options<span class="pl-k">:</span> {
 								          use<span class="pl-k">:</span> <span class="pl-c1">true</span>,
 								          kakao<span class="pl-k">:</span> {},
 								          globalSearch<span class="pl-k">:</span> [<span class="pl-c1">Object</span>],
 								          hybrid<span class="pl-k">:</span> [<span class="pl-c1">Object</span>],
 								          dialogsetMinMatchRate<span class="pl-k">:</span> <span class="pl-c1">0.5</span>,
 								          intentMinMatchRate<span class="pl-k">:</span> <span class="pl-c1">0.5</span>,
 								          useQuibble<span class="pl-k">:</span> <span class="pl-c1">false</span>
 							         },
 					       dialogs<span class="pl-k">:</span> [ [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>] ],
 					       commonDialogs<span class="pl-k">:</span> [ [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>] ],
 					       tasks<span class="pl-k">:</span> { defaultTask<span class="pl-k">:</span> [<span class="pl-c1">Object</span>]},
 					       types<span class="pl-k">:</span> { email<span class="pl-k">:</span> [<span class="pl-c1">Object</span>] },
 		     			   intents<span class="pl-k">:</span> [],
 		     			   entities<span class="pl-k">:</span> [],
 					       entityContents<span class="pl-k">:</span> [],
 					       dialogsets<span class="pl-k">:</span> []
 				        },
 			    user <span class="pl-k">:</span> {
 					      userKey<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>5a4d91842b7a1e41079c0d9a<span class="pl-pds">'</span></span>,
 					      channel<span class="pl-k">:</span> { name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>socket<span class="pl-pds">'</span></span> }
 					   },
 			    session<span class="pl-k">:</span> {
 						     history<span class="pl-k">:</span> [ [<span class="pl-c1">Object</span>], [<span class="pl-c1">Object</span>] ],
 						     dialogCursor<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>default95<span class="pl-pds">'</span></span>,
 						     previousDialogCursor<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>startDialog<span class="pl-pds">'</span></span>
 						  }
 			 }</pre>
                        </div>
                    </li>
                    <li>
                        <p>callback
                            因为回答前执行的函数是以Asyn的方式构成的，所以一定要在实现了功能后通过callback呼出。callback是功能实现后声明和返回结果的函数。因此在功能实现后部分要执行<code>callback()</code>。
                        </p>
                        <ul>
                            <li>callback(arg1, arg2)
                                <code>callback()</code>函数可以传递两个系数。第一个系数(arg1)决定是否调回，可以是true或者是false。第二个系数(arg2)是在第一个系数是true的情况下，调回的值。例如输入<code>callback(true, '请重新输入。');</code>的情况，回答前执行的函数执行的话光标不移动，聊天机器人回答"请重新输入"。请参考更为详细的场景对话指南。
                            </li>
                        </ul>
                    </li>
                </ul>
                <ol start="2">
                    <li>
                        复数action函数<br>
                        在使用之前已经使用过的函数的同时，再增加功能函数内容的情况，可以在action函数设置复数函数。
                        <div class="highlight highlight-source-js">
               <pre><span class="pl-k">var</span> preTask <span class="pl-k">=</span>
{
	<span class="pl-en">action</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">dialog</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>)
	{
		<span class="pl-smi">dialog</span>.<span class="pl-smi">output</span>[<span class="pl-c1">0</span>].<span class="pl-c1">text</span> <span class="pl-k">+=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-cce">\n</span>哈哈哈2<span class="pl-pds">'</span></span>;
		<span class="pl-en">callback</span>();
  	}
};

<span class="pl-k">var</span> <span class="pl-en">postAction</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">dialog</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>)
{
	<span class="pl-en">callback</span>();
}

<span class="pl-smi">bot</span>.<span class="pl-en">setTask</span>(<span class="pl-s"><span class="pl-pds">'</span>newTask<span class="pl-pds">'</span></span>,
{
	action<span class="pl-k">:</span> [
           		preTask,	<span class="pl-c"><span class="pl-c">//</span>回答前执行的函数</span>
           		<span class="pl-s"><span class="pl-pds">'</span>myTask<span class="pl-pds">'</span></span>,   <span class="pl-c"><span class="pl-c">//</span>之前使用过的回答前执行的函数。即，bot.setTask()函数。</span>
           		postAction	<span class="pl-c"><span class="pl-c">//</span>action函数</span>
           	]
});</pre>
                        </div>
                    </li>
                </ol>
                <ul>
                    <li>newTask是由action函数组成的数组。数组中的Task可以是(preTask)回答前执行的函数，或者是之前使用过的回答前执行的函数('myTask')，或者是action函数(postAction)。</li>
                    <li>如上述将action函数指定为数组时，执行顺序是由数组的先后排列顺序决定的。即，preTask的action函数执行后，之前使用过的回答前执行的函数'myTask'的action函数执行后postAction再执行。</li>
                    <li>在action函数是数组的情况下，请记住在使用之前使用过的回答前执行的函数('myTask')的同时必须要在之前使用回答前执行的函数(preTask)或者之后要执行的(postAction)函数。</li>
                </ul>
                <blockquote>
                    <p><strong>例1 - 保存名字</strong></p>
                </blockquote>
                <p>编写名为saveCustomerName的回答前执行的函数(task)。</p>
                <pre><code>bot.setTask('saveCustomerName', {
    action: function (dialog,context,callback) {

	    context.session.customerName = dialog.userInput.text;

	    callback();
	}
});
</code></pre>
                <ul>
                    <li>
                        <p>在功能实现区我们可以看到Javascript的代码。<code>context.session.customerName</code>被存储成了<code>dialog.userInput.text</code>。聊天机器人用户输入值(<code>dialog.userInput.text</code>)被保存在了能保存一定时间的(<code>context.session.customerName</code>)中。</p>
                    </li>
                    <li>
                        <p>如果想把(<code>context.session.customerName</code>)通过聊天机器人回答出来可以用+变量名称+来表示。例如，这里+context.session.customerName+就可以把刚才保存过的值通过聊天机器人回答出来。</p>
                    </li>
                </ul>
                <blockquote>
                    <p><strong>例2 - 请求外部服务器1(爬虫程序)</strong></p>
                </blockquote>
                <p>为了让聊天机器人实现更多的功能我们可以使用外部服务器提供的资源。为了使用这些资源我们可以通过名叫crawling的爬虫函数来实现，同时为了请求外部服务器，我们会用到request.js和cheerio(Node.js Module)的模块。对应的"default.js"文件内容如下。</p>
                <p>然后在crawling函数的功能实现区加入以下代码。</p>
                <pre><code>var request = require('request');
var cheerio = require('cheerio');
var url = 'http://finance.naver.com/item/main.nhn?code=035720';

request(url, function (err, response, body)
		     {
			      if(err)
			      {
				      console.log(err);
			      }
	              var $ = cheerio.load(body);
	              var selector = '#content &gt; div.section.invest_trend &gt; div:nth-child(2) &gt; table &gt; tbody &gt; tr:nth-child(2) &gt; td:nth-child(2) &gt; em';
	              var result = $(selector).text();

	              context.session.crawlingResult = result;
	              callback();
			 }
);
</code></pre>
                <ul>
                    <li>在聊天机器人回答中输入+context.session.crawlingResult+的话，相对应的爬虫结果就会被回答出来。</li>
                </ul>
                <blockquote>
                    <p><strong>例3 - 请求外部服务器2(API)</strong></p>
                </blockquote>
                <p>创建名为naverMovieSearch的执行函数，之后在函数的功能实现区编写以下程序。</p>
                <div class="highlight highlight-source-js">
         <pre>   <span class="pl-k">var</span> client_id <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>tXRaAWut2_2R5OkcLpLQ<span class="pl-pds">'</span></span>;
   <span class="pl-k">var</span> client_secret <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>TaU4yqU4fI<span class="pl-pds">'</span></span>;
   <span class="pl-k">var</span> api_url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>https://openapi.naver.com/v1/search/movie.json<span class="pl-pds">'</span></span>;
   <span class="pl-k">var</span> options <span class="pl-k">=</span> {
       method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>,
       url<span class="pl-k">:</span> api_url,
       headers<span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">'</span>X-Naver-Client-Id<span class="pl-pds">'</span></span><span class="pl-k">:</span>client_id, <span class="pl-s"><span class="pl-pds">'</span>X-Naver-Client-Secret<span class="pl-pds">'</span></span><span class="pl-k">:</span> client_secret},
       qs<span class="pl-k">:</span>{ query<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>事件<span class="pl-pds">'</span></span>}
   };
   <span class="pl-k">var</span> request <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>request<span class="pl-pds">'</span></span>);
   <span class="pl-en">request</span>(options, <span class="pl-k">function</span> (<span class="pl-smi">err</span>, <span class="pl-smi">response</span>, <span class="pl-smi">body</span>)
				    {
			           <span class="pl-k">if</span>(err)
			           {
			               <span class="pl-en">console</span>.<span class="pl-c1">log</span>(err);
			           }
			     	   body <span class="pl-k">=</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">parse</span>(body);

			           <span class="pl-smi">context</span>.<span class="pl-smi">session</span>.<span class="pl-smi">movieData</span> <span class="pl-k">=</span> body;
			           <span class="pl-en">callback</span>();
			        }
   );</pre>
                </div>
                <ul>
                    <li>这是一个在Naver上搜索电影的函数。在 <a href="https://developers.naver.com%EC%97%90" rel="nofollow">https://developers.naver.com</a> 上注册应用程序后会得到名为client_id和client_secret的值，然后再在API设置中添加'搜索'，之后可以通过"Documents ->  服务API -> 搜索 -> 电影"流程进去电影，然后可以参考调用API的文档。</li>
                    <li>从Naver上接收到的数据是JSON格式的，并以数组的形式存储着10个以上的电影信息。可以通过"###"规则来实现聊天机器人回答出数组形式的内容。您可以参考聊天机器人回答部分的说明。</li>
                </ul>
                <h4>
                    <a id="user-content-챗봇-답변" class="anchor" aria-hidden="true" href="#聊天机器人回答">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    聊天机器人回答
                </h4>
                <ol>
                    <li>
                        <p>聊天机器人回答的组成<br>
                            开始卡片的聊天机器人回答默认值是聊天机器人的问候语和自我介绍。
                        </p>
                        <ul>
                            <li>如果想让聊天机器人只回复文字时，则只需要在<strong>文本</strong>中输入文本即可。如果想让回答更生动地把品牌图片展现出来可以使用<strong>图片</strong>来实现。</li>
                            <li>想让聊天机器人的用户在输入的时候更为方便则可以在卡片中添加<strong>按钮</strong>。对于按钮，可以只是文本信息，也可以在URL中输入特定的URL来实现<strong>链接按钮</strong>。</li>
                            <li><strong>对话流动控制</strong>是可以控制光标移动的功能。普通在父母卡片的光标会移动到子女卡片，但如果想让光标一定到任意卡片时可以使用<strong>对话流动控制</strong>。（请参考具体的例子。）<br>
                                <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/38.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/38.png" title="클릭" style="max-width:100%;"></a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>聊天机器人回答添加/删除<br>
                            按"+"按钮添加聊天机器人回答，按垃圾桶按钮删除聊天机器人回答。
                        </p>
                    </li>
                    <li>
                        <p>多个聊天机器人回答(OR条件)<br>
                            使用多个聊天机器人回答时，回答是<strong>从多个聊天自己人回答中随机选取</strong>后回答。例如，聊天机器人回答是"很高兴见到你！"和"见到你很高兴。"，当这个卡片执行时会随机出现"很高兴见到你！"和"见到你很高兴。"其中之一。
                        </p>
                    </li>
                    <li>
                        <p>存取变量<br>
                            聊天机器人可以设置成固定的回答，但更多时候我们可能需要根据不同的用户进行不同的回答。例如, 获得了用户姓名后可能就会需要时不时的提到客户的姓名。为了能很方便的多次用到用户的姓名，我们可以在对话卡片中将用户输入的值存到名为<code>context.session.customerName</code>的变量中。这样的话在需要用到这个变量值时只要在聊天机器人回答中输入<code>+变量名+</code>就行。例如，用户姓名卡片的聊天机器人回答中输入"您好，见到您很高兴。 <code>+context.session.customerName+</code>。然后当用户姓名卡片执行时就会看到相应的回答了。
                        </p>
                    </li>
                </ol>
                <ul>
                    <li>
                        <p>对象(Object)
                            变量是对象时，就可以像Javascript中的.key一样在键值(key)中存取变量。
                            例如) +context.session.movieDataObject.date+
                        </p>
                    </li>
                    <li>
                        <p>数组(Array)
                            变量是数组时，我们可以使用"###"来实现和for一样的功能。
                            例如，context.session.movieDataArray是一个数组，用#movieDataArray#的方式来使用movieDataArray数组，#movieDataArray#后面依次输入各个键名来读取键值。然后当完成一个数组后加上一个#来表示结束。总的来说就是#数组#各个键值#的结构。这时，各个键值可以用+key值+的结构来表示各个键值。同时，使用+index+来表示序号，这个值随着对象的数量而变化。
                        </p>
                    </li>
                </ul>
                <ol start="5">
                    <li>
                        <p>IF (根据条件进行回答)<br>
                            在用户输入中可以使用if的方法，同时在<strong>聊天机器人回答</strong>中也可以使用if功能，它是一个可以实现在对话卡片中根据条件来给出不同回答的功能。入门章节中简单的介绍了当聊天机器人的回答有一个以上时，会随机抽取后进行回答。但是当聊天机器人的回答有多个时，在IF中放入条件的话，聊天机器人将会根据条件来进行回答。
                            这样的构造就像选择各种聊天应用一样，就像从Kakao Talk, Facebook, Naver Talk Talk等聊天应用中选择不同的聊天运用来对话一样，当条件是<code>IF(context.user.channel.name == 'kakao')</code>时，<br>
                            或者<code>IF(context.user.channel.name == 'facebook')</code>时， <br>
                            或者<code>IF(context.user.channel.name == 'navertalk')</code>时， <br>
                            聊天机器人会根据条件来选择不同的应用来进行回答。
                        </p>
                    </li>
                    <li>
                        <p>对话流动控制<br>
                            场景对话的光标移动一般是从父母卡片流向子女卡片的，对话流动控制是控制光标移动的功能。<br>
                            <a href="https://youtu.be/enxCH9-RE4c" rel="nofollow">点击查看制作范例视频</a><br>
                            <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/40.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/40.png" title="클릭" style="max-width:100%;"></a><br>
                            <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/39.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/39.png" title="클릭" style="max-width:100%;"></a>
                        </p>
                    </li>
                </ol>
                <ul>
                    <li>
                        <p>对话移动
                            首先，我们能看到最开始有一个对话移动，对话移动后执行要移动到的卡片的回答前执行的函数，然后显示移动前卡片的回答文字内容，光标移动到移动后的卡片处。
                        </p>
                    </li>
                    <li>
                        <p>重新提问
                            <strong>重新提问</strong>是当聊天机器人用户输入值和子女卡片都不相符合时，光标不移动，让聊天机器人回答重新输入的功能。例如，电话号卡片中聊天机器人的回答是"请输入号码"，当用户的手机号格式不对时，也就是用户的输入值和子女卡片都不相符时，聊天机器人会回答"对不起，我不是很理解您在说什么"。但是如果在手机号对话卡片的子女卡片最后加入一个重新输入卡片<strong>用户输入</strong>是if(true)，<strong>聊天机器人回答</strong>是<strong>重新提问</strong>的话，当用户输入值和子女卡片们都不相符时，前面添加的重新输入卡片就会执行，然后光标重新移动到手机号对话卡片处。然后重新输入卡片的回答文字就会出现。重新输入卡片的聊天机器人回答设置成"您输入的手机号格式不正确，请重新输入。"的话就能达到让用户重新输入电话号码的效果。和这个很相似的情况就是在收集地址信息的时候也可以用到if(true)这样的功能。总的来说就是一个让对话回到父母卡片的功能。
                        </p>
                    </li>
                    <li>
                        <p>返回上一个对话
                            <strong>返回上一个对话</strong>是指当输入"返回"时，光标会移动到上一个执行的卡片处的功能。当输入"返回"时，由于<em>共同场景对话</em>的存在，一般会回到上一个执行的卡片处。这里要注意的是当执行了使用了"返回上一个对话"的功能的卡片时，返回当前卡片向前2级父母（祖父母）卡片处。
                        </p>
                    </li>
                    <li>
                        <p>对话移动后匹配
                            <strong>对话移动后匹配</strong>是在对话移动后再在子女卡片中匹配的功能，当用户输入和当前子女卡片都不相符时，回答"对不起，我不是很理解您在说什么"。
                        </p>
                    </li>
                    <li>
                        <p>对话倒回移动 / 倒回
                            <strong>对话倒回移动</strong>和对话移动有着相同的操作，但是如果想在对话移动后倒回到特定卡片时，可以使用这个功能。执行了对话倒回移动时，光标会移动到执行的卡片的父母卡片处。
                        </p>
                    </li>
                </ul>
                <h4>
                    <a id="user-content-단축키" class="anchor" aria-hidden="true" href="#快捷键">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    快捷键
                </h4>
                <ol>
                    <li>对话场景</li>
                </ol>
                <ul>
                    <li>← ↓ ↑ → : 卡片光标移动</li>
                    <li>Ctrl + ↑ ↓ : 向上/向下移动卡片</li>
                    <li>Enter : 打开卡片信息修改窗口</li>
                    <li>Esc : 关闭卡片信息修改窗口</li>
                    <li>Insert : 添加子女卡片</li>
                    <li>Del : 删除卡片</li>
                    <li>Space : 展开/收回子孙卡片</li>
                </ul>
                <ol start="2">
                    <li>卡片信息修改窗口</li>
                </ol>
                <ul>
                    <li>Tab : 输入转换(用户输入，回答前执行的函数，聊天机器人回答输入转换，用户输入等有多个的情况时多个之间的移动)</li>
                    <li>Ctrl+Enter : 卡片信息修改窗口保存</li>
                </ul>
                <ol start="3">
                    <li>函数功能实现区</li>
                </ol>
                <ul>
                    <li>Ctrl + F : 查找</li>
                    <li>Ctrl + G : 查找下一个</li>
                    <li>Ctrl + S : 保存</li>
                </ul>
                <ol start="4">
                    <li>通用</li>
                </ol>
                <ul>
                    <li>? : keyboard shortcut help</li>
                </ul>
                <h3>
                    <a id="user-content-관리" class="anchor" aria-hidden="true" href="#管理">
                        <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    管理
                </h3>
                <ol>
                    <li>对话场景<br>
                        和对话场景管理相关的文件默认有2个(*.graph.js文件，*.js文件)。
                    </li>
                </ol>
                <ul>
                    <li>*.graph.js文件 - 是以JSON对象格式保存的场景对话框图文件。在场景对话管理中可以创建多个对话场景图文件。在有多个对话场景图文件的情况下，各个场景对话的开始卡片是合并的，可以设置场景之间优先顺序。</li>
                    <li>*.js文件  - 是编写回答之前执行的函数的文件。可以在场景对话管理中创建多个回答前执行的函数的文件。</li>
                </ul>
                <ol start="2">
                    <li>实体<br>
                        是创建，修改，删除实体的页面。
                    </li>
                </ol>
                <ul>
                    <li>单击"导入"按钮时，可以通过Excel文件来创建实体。</li>
                    <li>在上传Excel文件时请注意相关表格的格式。点击"导入"按钮后可以下载实体Excel样式。<br>
                        <a href="https://raw.githubusercontent.com/moneybrain-ai/PlayChat-Docs/master/start_image/41.png" rel="nofollow"><img src="https://github.com/moneybrain-ai/PlayChat-Docs/raw/master/start_image/41.png" style="max-width:100%;"></a><br>
                        <a href="https://youtu.be/BKI03_jSNh0" rel="nofollow">点击查看制作范例视频</a>
                    </li>
                </ul>
                <ol start="3">
                    <li>意图<br>
                        是创建，修改，删除意图的页面。
                    </li>
                </ol>
                <ul>
                    <li>单击"导入"按钮时，可以通过Excel文件来创建意图。</li>
                    <li>在上传Excel文件时请注意相关表格的格式。点击"导入"按钮后可以下载意图Excel样式。<br>
                        <a href="https://youtu.be/4PLfTLtf92k" rel="nofollow">点击查看制作范例视频</a>
                    </li>
                </ul>
                <ol start="4">
                    <li>任务<br>
                        是创建，修改，删除任务的页面。
                    </li>
                </ol>
            </article>
        </div>
    </div>

</div>


<script>
    $(document).ready(function(){
        $("#nav").load("navigation_zh.html #menual", function () {

        });

        $("#topbar").load("topbar_zh.html", function () {
            $('#menual').addClass('js-selected-navigation-item selected reponav-item')
        });
        $(function(){
            var nav = $("#wiki-rightbar");
            var top = nav.offset().top;

            $(window).scroll(function() {
                var position = $(window).scrollTop(); // 현재 스크롤바의 위치

                if (position <= top && nav.css("position") == 'fixed')
                {
                    nav.css("position", "static");
                    nav.css("top", top);
                }
                else if(position > top && nav.css("position") != 'fixed')
                {
                    var width = nav.css('width');
                    nav.css("width", width);
                    nav.css("position", "fixed");
                    nav.css("top", "10px");
                }
            });
        });
    })
</script>
</body>
</html>
