var path = require('path');
var type = require(path.resolve('modules/bot/action/common/type'));
var core = require('./core');

var pre = /(?:~이전페이지|~앞|^<$)/;
var next = /(?:~다음페이지|~뒤|^>$)/;
var up = /(?:^0$)/
var first = /(?:~시작|~처음|^!$|취소)/

인기봇:
<인기 봇
{action: core.popularbotlist}
> 인기봇 리스트입니다.\n#popularbot#+index+. +name+\n#
    < {types: [{name: 'selectbot', listName: 'popularbot', typeCheck: 'listTypeCheck'}]}
    {action: core.connectBot}
    > 봇이 변경되었습니다.

최신봇:
<최신 봇
{action: core.newbotlist}
> 최신봇 리스트입니다.\n#newbot#+index+. +name+\n#
    < {types: [{name: 'selectbot', listName: 'newbot', typeCheck: 'listTypeCheck'}]}
    {action: core.connectBot}
    > 봇이 변경되었습니다.

친구봇:
<친구 봇
{action: core.userCheck}
>if(context.user.check == true) {call:'친구봇리스트'}
>if(context.user.check == false) ID[이메일]를 입력해주세요
    <{types: [{name: 'email', typeCheck: core.emailTypeCheck, raw: true}]}
    {action: core.authemail}
    >if(context.dialog.emailusercheck == true) 고객님의 메일로 인증코드를 전송하였습니다.\n인증코드를 입력해주세요.
        < {types: [{name: 'code', typeCheck: core.codeTypeCheck, raw: true}]}
        {action: core.authcode}
        >if(context.dialog.codecheck == true) {call:'친구봇리스트'}
        >if(context.dialog.codecheck == false) {repeat: 1, options: {output: '인증코드가 잘못되었습니다.\n다시입력해주세요.'}}
        <{if: 'true'}> {repeat: 1, options: {output: '인증코드의 형식이 틀렸습니다.\n다시입력해주세요.'}}
    >if(context.dialog.emailusercheck == false) {repeat: 1, options: {output: '가입되지 않은 ID[이메일]입니다.\n아래 링크에서 가입 후 진행해주세요.'}}
    <{if: 'true'}> {repeat: 1, options: {output: 'ID[이메일] 형식이 틀렸습니다.\n다시입력해주세요.'}}

친구봇리스트:
<친구 봇
{action: core.followbotlist}
> 친구봇 리스트입니다.\n#followbot#+index+. +name+\n#
    < {types: [{name: 'selectbot', listName: 'followbot', typeCheck: 'listTypeCheck'}]}
    {action: core.connectBot}
    > 봇이 변경되었습니다.

마이봇:
<마이 봇
{action: core.userCheck}
>if(context.user.check == true) {call:'마이봇리스트'}
>if(context.user.check == false) ID[이메일]를 입력해주세요d
    <{types: [{name: 'email', typeCheck: core.emailTypeCheck, raw: true}]}
    {action: core.authemail}
    >if(context.dialog.emailusercheck == true) 고객님의 메일로 인증코드를 전송하였습니다.\n인증코드를 입력해주세요.
        < {types: [{name: 'code', typeCheck: core.codeTypeCheck, raw: true}]}
        {action: core.authcode}
        >if(context.dialog.codecheck == true) {call:'마이봇리스트'}
        >if(context.dialog.codecheck == false) {repeat: 1, options: {output: '인증코드가 잘못되었습니다.\n다시입력해주세요.'}}
        <{if: 'true'}> {repeat: 1, options: {output: '인증코드의 형식이 틀렸습니다.\n다시입력해주세요.'}}
    >if(context.dialog.emailusercheck == false) {repeat: 1, options: {output: '가입되지 않은 ID[이메일]입니다.\n아래 링크에서 가입 후 진행해주세요.'}}
    <{if: 'true'}> {repeat: 1, options: {output: 'ID[이메일] 형식이 틀렸습니다.\n다시입력해주세요.'}}

마이봇리스트:
<false
{action: core.mybotlist}
> 마이봇 리스트입니다.\n#mybot#+index+. +name+\n#
    < {types: [{name: 'selectbot', listName: 'mybot', typeCheck: 'listTypeCheck'}]}
    {action: core.connectBot}
    > 봇이 변경되었습니다.

시작:
c< {regexp: first}
> 안녕하세요 PlayChat입니다.

c<{regexp: up}
>{up:1}

c<{regexp: pre}
>{repeat: 1, options: {page: 'pre'}}

c<{regexp: next}
>{repeat: 1, options: {page: 'next'}}
