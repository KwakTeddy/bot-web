<header class="page-header">
    <h2>대화량</h2>
    <div class="right-wrapper pull-right">
        <a class="sidebar-right-toggle" data-open="sidebar-right"><i class="fa fa-chevron-left"></i></a>
    </div>
</header>

<section class="panel" data-ng-init="init()">
    <div class="row">
        <div class="col-md-12">
            <div style="display: flex;margin-bottom: 20px">
                <span style="flex: 5"></span>
                <span class="btn btn-default" style="flex: 2; display: flex; align-items: center; justify-content: center;" >
                    <a style="cursor: pointer" ng-click="exelDownload('dailyUser')">Exel 다운로드
                    </a>
                </span>
                <span id="date-container" style="flex: 3">
                    <div id="reportrange" class="pull-right text-center" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc; width: 100%; border-radius: 5px">
                        <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>&nbsp;
                        <span style="color: black"></span> <b class="caret"></b>
                    </div>
                </span>
            </div>
        </div>
    </div>
    <div class="row" >
        <div class="col-md-12">
            <header class="panel-heading" style="background-color: white">
                <h2 class="panel-title text-center">기간별 대화량(채널)</h2>
            </header>
            <div class="panel-body" style="position: relative">
                <div name="dataLoading" style="background: white;position: absolute; top: 0;left: 0;height: 100%;width: 100%;z-index: 99999;opacity: 1; transition: opacity .5s ease">
                    <div class="logo" style="display: block;width: 80px;height: 80px;background-repeat: no-repeat;background-image: url(images/loading_icon3.gif);background-size: contain;position:absolute; top: 50%;left: 50%;margin: -40px 0 0 -40px; animation: blink normal 2s infinite ease-in-out"></div>
                </div>
                <div>
                    <canvas id="dailyDialog" width="400" height="100"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="row" >
        <div class="col-md-12">
            <header class="panel-heading" style="background-color: white">
                <h2 class="panel-title text-center">기간별 대화량(성공/실패)</h2>
            </header>
            <div class="panel-body" style="position: relative">
                <div name="dataLoading" style="background: white;position: absolute; top: 0;left: 0;height: 100%;width: 100%;z-index: 99999;opacity: 1; transition: opacity .5s ease">
                    <div class="logo" style="display: block;width: 80px;height: 80px;background-repeat: no-repeat;background-image: url(images/loading_icon3.gif);background-size: contain;position:absolute; top: 50%;left: 50%;margin: -40px 0 0 -40px; animation: blink normal 2s infinite ease-in-out"></div>
                </div>
                <div>
                    <canvas id="isFailDialog" width="400" height="100"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="row" >
        <div class="col-md-12">
            <header class="panel-heading" style="background-color: white">
                <h2 class="panel-title text-center">채널별 대화 비율</h2>
            </header>
            <div class="panel-body" style="display: flex;position: relative">
                <div name="dataLoading" style="background: white;position: absolute; top: 0;left: 0;height: 100%;width: 100%;z-index: 99999;opacity: 1; transition: opacity .5s ease">
                    <div class="logo" style="display: block;width: 80px;height: 80px;background-repeat: no-repeat;background-image: url(images/loading_icon3.gif);background-size: contain;position:absolute; top: 50%;left: 50%;margin: -40px 0 0 -40px; animation: blink normal 2s infinite ease-in-out"></div>
                </div>
                <div style="flex: 1">
                    <div>
                        <canvas id="dialogRatioByChannel" width="400" height="200"></canvas>
                    </div>
                </div>
                <div style="flex: 1">
                    <table class="table table-striped mb-none">
                        <thead>
                        <tr>
                            <th class="text-center">채널</th>
                            <th class="text-center">비율</th>
                            <th class="text-center">이용자수</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="text-center">카카오톡</td>
                            <td class="text-center">{{kakao*100/(kakao + facebook + navertalk)| number:1}}%</td>
                            <td class="text-center">{{kakao}}</td>
                        </tr>
                        <tr>
                            <td class="text-center">페이스북</td>
                            <td class="text-center">{{facebook*100/(kakao + facebook + navertalk)| number:1}}%</td>
                            <td class="text-center">{{facebook}}</td>
                        </tr>
                        <tr>
                            <td class="text-center">네이버톡톡</td>
                            <td class="text-center">{{navertalk*100/(kakao + facebook + navertalk)| number:1}}%</td>
                            <td class="text-center">{{navertalk}}</td>
                        </tr>
                        <tr>
                            <td class="text-center">합계</td>
                            <td class="text-center">100%</td>
                            <td class="text-center">{{kakao + facebook + navertalk}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</section>

<script src="/lib/chart.js/dist/Chart.js"></script>
<style>
    .daterangepicker {
        width: max-content!important;
    }
</style>