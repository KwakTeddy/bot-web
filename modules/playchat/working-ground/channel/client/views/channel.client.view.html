<div ng-controller="ChannelController" ng-view>
    <div class="channel-title">{{ lan('Messanger') }}
    </div>
    <div class="channel-content-row">
        <div class="channel-content-item">
            <div>
                <img src="/modules/playchat/working-ground/channel/client/imgs/kakao.png">
                <p class="channel-content-item-name">{{ lan('KaKao Talk') }}</p>
            </div>
            <div class="connect-button">
                <button type="button" class="blue-button" ng-click="viewHelp('kakao');">{{ lan('Connect') }}</button>
            </div>
        </div>
        <div class="channel-content-item">
            <div>
                <img src="/modules/playchat/working-ground/channel/client/imgs/facebook.png">
                <p class="channel-content-item-name">{{ lan('Facebook') }}</p>
            </div>
            <div class="connect-button">
                <button type="button" class="blue-button" ng-click="connectFacebook();">{{ lan('Connect') }}</button>
            </div>
        </div>
        <div class="channel-content-item">
            <div>
                <img src="/modules/playchat/working-ground/channel/client/imgs/naver.png">
                <p class="channel-content-item-name">{{ lan('Naver Talk Talk') }}</p>
            </div>
            <div class="connect-button">
                <button type="button" class="blue-button" ng-click="viewHelp('naver');">{{ lan('Connect') }}</button>
            </div>
        </div>
        <div class="channel-content-item">
            <div>
                <img src="/modules/playchat/working-ground/channel/client/imgs/line.png">
                <p class="channel-content-item-name">{{ lan('Line') }}</p>
            </div>
            <div class="connect-button">
                <button type="button" class="blue-button" ng-click="viewHelp('line');">{{ lan('Connect') }}</button>
            </div>
        </div>
    </div>
    <div class="channel-content-row">
        <div class="channel-content-item">
            <div>
                <img src="/modules/playchat/working-ground/channel/client/imgs/wechat.png">
                <p class="channel-content-item-name">{{ lan('WeChat') }}</p>
            </div>
            <div class="connect-button">
                <button type="button" class="blue-button" ng-click="viewHelp('wechat');">{{ lan('Connect') }}</button>
            </div>
        </div>
        <div class="channel-content-item">
            <div>
                <img src="/modules/playchat/working-ground/channel/client/imgs/phone.png">
                <p class="channel-content-item-name">전화<span class="empha">alpha</span></p>
            </div>
            <div class="connect-button">
                <button type="button" class="blue-button" ng-click="viewHelp('');">{{ lan('Connect') }}</button>
            </div>
        </div>
        <div class="empty-channel">
        </div>
        <div class="empty-channel">
        </div>
    </div>
    <div class="modal-background" ng-show="help.kakao">
        <div class="modal">
            <div class="modal-title">카카오톡</div>
            <div class="modal-body">
                <ul class="channel-description">
                    <li>카카오 옐로아이디를 만들어요(https://yellowid.kakao.com/login)</li>
                    <li>옐로아이디 프로필을 만들고 심사를 기다려요(5일 이내 소요)!</li>
                    <li>심사된 프로필로 옐로아이디 페이지 자동응답 탭으로 들어가요</li>
                    <li>API 자동응답 설정하기로 들어가요</li>
                    <li>앱 이름, URL, 설명, 전화번호를 설정해요. 이 때 URL을 아래의 URL로 설정해야돼요!</li>
                </ul>
                <div>
                    <input type="text" class="webhook" value="Webhook URL : {{ host }}/kakao/{{ chatbot.id }}">
                    <button type="button" class="default-button" ng-click="copyLink($event);" style="width: auto;">{{ lan('Copy') }}</button>
                </div>
            </div>
            <div class="tab-footer">
                <button type="button" class="default-button" ng-click="closeHelp('kakao')">{{ lan('Close') }}</button>
            </div>
        </div>
    </div>

    <div class="modal-background" ng-show="help.line">
        <div class="modal">
            <div class="modal-title">라인</div>
            <div class="modal-body">
                <ul class="channel-description">
                    <li>LINE회원이어야해요 LINE 앱 또는 웹으로 회원가입해요</li>
                    <li>가입이 됐다면 LINE Business Center에서 사용할 이메일을 등록해요</li>
                    <li>서비스 탭에서 Messaging API 시작하기 버튼을 누르고 정보를 입력해요</li>
                    <li>LINE Manager에서 API 켜기 버튼을 누르고 Webhook 사용을 허용하고 저장해요</li>
                    <li>LINE Business Center에서 계정 목록 탭으로 이동해요</li>
                    <li>Messaging API에 있는 LINE Developers 버튼을 눌러요</li>
                    <li>ISSUE 버튼을 눌러 Channel access token을 발급받아요</li>
                    <li>EDIT 버튼을 눌러 Webhook URL을 아래의 Webhook URL을 복사해 넣고 저장 및 확인해요</li>
                    <li>다 끝났습니다!</li>
                </ul>
                <div>
                    <input type="text" class="webhook" value="Webhook URL : {{ host }}/line/{{ chatbot.id }}">
                    <button type="button" class="default-button" ng-click="copyLink($event);" style="width: auto;">{{ lan('Copy') }}</button>
                </div>
            </div>
            <div class="tab-footer">
                <button type="button" class="default-button" ng-click="closeHelp('line')">{{ lan('Close') }}</button>
            </div>
        </div>
    </div>

    <div class="modal-background" ng-show="help.naver">
        <div class="modal">
            <div class="modal-title">네이버톡톡</div>
            <div class="modal-body">
                <ul class="channel-description">
                    <li>네이버톡톡 파트너센터 접속 (partner.talk.naver.com)</li>
                    <li>회사 단체아이디 또는 대표성있는 개인아이디로 로그인</li>
                    <li>내 계정관리 > 새로운 톡톡 계정 만들기 클릭</li>
                    <li>서비스 선택하기에서 서비스 선택없이 서비스 연결 나중에 하기 클릭</li>
                    <li>테스트 계정생성시 개인을 선택, 서비스 계정생성시 사업자 또는 기관/단쳬을 선택 후 다음 대표이미지, 프로필명, 휴대폰 번호 등 정보를 입력 후 사용신청</li>
                    <li>생성된 계정은 검수중 상태이며, 검수가 완료되면 사용중상태로 변경되고 SMS로 알림 전송됨</li>
                    <li>내 계정관리의 등록된 계정 리스트에서 계정관리로 계정 홈 진입</li>
                    <li>좌측 메뉴 챗봇 API 하위 API 설정 메뉴를 통해 이용약관동의 및 챗봇 설정 (beta기간에는 등록신청 필요)</li>
                    <li>네이버의 API사용 승인이 된 후 playchat에서 제공하는 URL을 입력하여 연결</li>
                </ul>
                <div>
                    <input type="text" class="webhook" value="Webhook URL : {{ host }}/naver/{{ chatbot.id }}">
                    <button type="button" class="default-button" ng-click="copyLink($event);" style="width: auto;">{{ lan('Copy') }}</button>
                </div>
            </div>
            <div class="tab-footer">
                <button type="button" class="default-button" ng-click="closeHelp('naver')">{{ lan('Close') }}</button>
            </div>
        </div>
    </div>

    <div class="modal-background" ng-show="help.wechat">
        <div class="modal">
            <div class="modal-title">위챗</div>
            <div class="modal-body">
                <input type="text" class="webhook" value="Webhook URL : {{ host }}/wechat/{{ chatbot.id }}">
                <button type="button" class="default-button" ng-click="copyLink($event);" style="width: auto;">{{ lan('Copy') }}</button>
            </div>
            <div class="tab-footer">
                <button type="button" class="default-button" ng-click="closeHelp('wechat')">{{ lan('Close') }}</button>
            </div>
        </div>
    </div>

    <div class="modal-background" ng-show="help.facebook">
        <div class="modal" style="min-width: 490px; width: auto;">
            <div class="modal-title">페이스북</div>
            <div class="modal-body" style="padding: 30px 0;">
                <table class="tb02">
                    <thead>
                        <tr>
                            <th>페이지 이름</th>
                            <th>페이지 링크</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-if="pageList.length == 0">
                            <td colspan="3">{{ lan('You do not have any Facebook pages to connect to.'); }}</td>
                        </tr>
                        <tr ng-repeat="page in pageList">
                            <td>{{ page.name }}</td>
                            <td>{{ page.link }}</td>
                            <td>
                                <a href="https://www.messenger.com/t/{{ page.id }}" class="default-button" target="_blank" ng-if="page.connected">{{lan('Try now')}}</a>
                                <button type="button" class="default-button" ng-click="connect(page);" ng-if="!page.connected">{{lan('Connect')}}</button>
                                <button type="button" class="red-button" ng-click="disconnect(page);" ng-if="page.connected">{{lan('Disconnect')}}</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p style="text-align: right; margin-top: 35px;">
                    <a href="https://www.facebook.com/pages/create/?ref_type=pages_browser" class="blue-button" style="color: white;">페이스북 페이지 새로 만들기</a>
                </p>
            </div>
            <div class="tab-footer">
                <button type="button" class="default-button" ng-click="closeHelp('facebook')">{{ lan('Close') }}</button>
            </div>
        </div>
    </div>
</div>
